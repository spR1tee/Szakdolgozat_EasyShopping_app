#:include kivy_lang/swiper_item.kv

<NavigationScreen>:
    name: "nav"

    MDBottomNavigation:
        id: bottom_nav
        use_text: False

        MDBottomNavigationItem:
            name: "home"
            icon: "home"

            MDBoxLayout:
                orientation: "vertical"
                md_bg_color: app.theme_cls.primary_color
                # padding: "10dp"

                MDBoxLayout:
                    md_bg_color: app.theme_cls.primary_color
                    padding: dp(10)
                    adaptive_height: True

                    MDSwiper:
                        size_hint_y: None
                        height: dp(150)
                        # y: root.height - self.height - toolbar.height - dp(20)
                        on_swipe:
                            self.get_current_item().ids.icon.shake()
                            app.filter_shops(self.get_current_item().type)

                        MySwiper:
                            text: "cart"
                            type: "all"
                            label_text: "Minden"
                            image: "img/food.png"

                        MySwiper:
                            text: "food"
                            type: "food"
                            label_text: "Élelmiszer"
                            image: "img/food.png"

                        MySwiper:
                            type: "electronics"
                            text: "laptop"
                            label_text: "Elektronika"
                            image: "img/food.png"

                        MySwiper:
                            type: "clothing"
                            text: "tshirt-crew"
                            label_text: "Ruházat"
                            image: "img/food.png"


                ScrollView:
                    bar_width: 0
                    do_scroll_y: True

                    MDGridLayout:
                        id: shops_grid
                        adaptive_height: True
                        cols: 2
                        padding: [dp(15), dp(15), dp(15), dp(35)]
                        spacing: dp(15)

        MDBottomNavigationItem:
            name: "shopping_list"
            icon: "list-box"
            on_tab_press: app.check_if_registered()

            MDFloatLayout:
                MDLabel:
                    id: task_label
                    halign: 'center'
                    markup: True
                    text: "[b]Bevásárlólista[/b]"
                    pos_hint: {'y': .45}

                ScrollView:
                    pos_hint: {'center_y': .5, 'center_x': .5}
                    size_hint: .9, .8

                    MDList:
                        id: container

                MDFloatingActionButton:
                    icon: 'plus-thick'
                    on_release: app.show_item_dialog()
                    elevation_normal: 12
                    pos_hint: {'x': .8, 'y':.05}

        MDBottomNavigationItem:
            name: "profile"
            icon: "account"
            # on_tab_press: app.check_if_registered()

            MDBoxLayout:
                adaptive_size: True
                md_bg_color: "green"
                pos_hint: {"center_x": .5, "center_y": .5}

                MDFlatButton:
                    text: "helloszia"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    on_release: app.go_to_login_screen()

        MDBottomNavigationItem:
            name: "cards"
            icon: "credit-card"
            # on_tab_press: app.check_if_registered()

            MDBoxLayout:
                adaptive_size: True
                md_bg_color: "green"
                pos_hint: {"center_x": .5, "center_y": .5}

                MDFlatButton:
                    text: "hellocsá"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

        MDBottomNavigationItem:
            name: "favorites"
            icon: "heart"
            # on_tab_press: app.check_if_registered()

            MDFloatLayout:
                # md_bg_color: app.theme_cls.primary_color
                padding: 5

                MDTopAppBar:
                    id: topappbar
                    title: "Kedvencek"
                    font_name: "fonts/Comfortaa-Regular.ttf"
                    elevation: 4
                    pos_hint: {'top': 1}

                Widget:
                    height: "100dp"

                ScrollView:
                    bar_width: 0
                    do_scroll_y: True

                    MDGridLayout:
                        id: favs_grid
                        adaptive_height: True
                        cols: 2
                        padding: [dp(15), dp(15), dp(15), dp(35)]
                        spacing: dp(15)